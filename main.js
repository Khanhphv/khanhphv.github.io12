(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["main"],{

/***/ "./src/$$_lazy_route_resource lazy recursive":
/*!**********************************************************!*\
  !*** ./src/$$_lazy_route_resource lazy namespace object ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

function webpackEmptyAsyncContext(req) {
	// Here Promise.resolve().then() is used instead of new Promise() to prevent
	// uncaught exception popping up in devtools
	return Promise.resolve().then(function() {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	});
}
webpackEmptyAsyncContext.keys = function() { return []; };
webpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;
module.exports = webpackEmptyAsyncContext;
webpackEmptyAsyncContext.id = "./src/$$_lazy_route_resource lazy recursive";

/***/ }),

/***/ "./src/app/add/add.component.css":
/*!***************************************!*\
  !*** ./src/app/add/add.component.css ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "/* input[type=\"file\"]{\r\n    display: none;\r\n} */\r\n.inputFile {\r\n  /* border: 1px solid #0088cc; */\r\n  background: #0088cc;\r\n  border-radius: 7px;\r\n  width: 125px;\r\n  text-align: center;\r\n  color: white\r\n}\r\n.button-submit {\r\n  background: #0088cc;\r\n  border-radius: 7px;\r\n  width: 125px;\r\n  text-align: center;\r\n  color: white;\r\n  border: 0px\r\n}\r\nul,li{ list-style-type:  none}\r\ninput[type=\"file\"] {\r\n  display: none\r\n}\r\n.invalid-feedback{\r\n    color: red\r\n}\r\n.form-control.invalid-feedback{\r\n    border: red\r\n}\r\n.form-control.is-invalid {\r\n    border:1px solid red\r\n}\r\n.text-alert{\r\n    color: red\r\n}\r\n.empty{\r\n    border: 1px solid red\r\n}\r\n.contant{\r\n    border: 1px solid black\r\n}\r\nbutton {\r\n  background: #F44336;\r\n  font-weight: unset;\r\n  border: 0\r\n}\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYWRkL2FkZC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztJQUVJO0FBQ0o7RUFDRSxnQ0FBZ0M7RUFDaEMsb0JBQW9CO0VBQ3BCLG1CQUFtQjtFQUNuQixhQUFhO0VBQ2IsbUJBQW1CO0VBQ25CLFlBQVk7Q0FDYjtBQUVEO0VBQ0Usb0JBQW9CO0VBQ3BCLG1CQUFtQjtFQUNuQixhQUFhO0VBQ2IsbUJBQW1CO0VBQ25CLGFBQWE7RUFDYixXQUFXO0NBQ1o7QUFDRCxPQUFPLHNCQUFzQixDQUFDO0FBQzlCO0VBQ0UsYUFBYTtDQUNkO0FBQ0Q7SUFDSSxVQUFVO0NBQ2I7QUFDRDtJQUNJLFdBQVc7Q0FDZDtBQUNEO0lBQ0ksb0JBQW9CO0NBQ3ZCO0FBQ0Q7SUFDSSxVQUFVO0NBQ2I7QUFDRDtJQUNJLHFCQUFxQjtDQUN4QjtBQUNEO0lBQ0ksdUJBQXVCO0NBQzFCO0FBQ0Q7RUFDRSxvQkFBb0I7RUFDcEIsbUJBQW1CO0VBQ25CLFNBQVM7Q0FDViIsImZpbGUiOiJzcmMvYXBwL2FkZC9hZGQuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIGlucHV0W3R5cGU9XCJmaWxlXCJde1xyXG4gICAgZGlzcGxheTogbm9uZTtcclxufSAqL1xyXG4uaW5wdXRGaWxlIHtcclxuICAvKiBib3JkZXI6IDFweCBzb2xpZCAjMDA4OGNjOyAqL1xyXG4gIGJhY2tncm91bmQ6ICMwMDg4Y2M7XHJcbiAgYm9yZGVyLXJhZGl1czogN3B4O1xyXG4gIHdpZHRoOiAxMjVweDtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgY29sb3I6IHdoaXRlXHJcbn1cclxuXHJcbi5idXR0b24tc3VibWl0IHtcclxuICBiYWNrZ3JvdW5kOiAjMDA4OGNjO1xyXG4gIGJvcmRlci1yYWRpdXM6IDdweDtcclxuICB3aWR0aDogMTI1cHg7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gIGNvbG9yOiB3aGl0ZTtcclxuICBib3JkZXI6IDBweFxyXG59XHJcbnVsLGxpeyBsaXN0LXN0eWxlLXR5cGU6ICBub25lfVxyXG5pbnB1dFt0eXBlPVwiZmlsZVwiXSB7XHJcbiAgZGlzcGxheTogbm9uZVxyXG59XHJcbi5pbnZhbGlkLWZlZWRiYWNre1xyXG4gICAgY29sb3I6IHJlZFxyXG59XHJcbi5mb3JtLWNvbnRyb2wuaW52YWxpZC1mZWVkYmFja3tcclxuICAgIGJvcmRlcjogcmVkXHJcbn1cclxuLmZvcm0tY29udHJvbC5pcy1pbnZhbGlkIHtcclxuICAgIGJvcmRlcjoxcHggc29saWQgcmVkXHJcbn1cclxuLnRleHQtYWxlcnR7XHJcbiAgICBjb2xvcjogcmVkXHJcbn1cclxuLmVtcHR5e1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgcmVkXHJcbn1cclxuLmNvbnRhbnR7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCBibGFja1xyXG59XHJcbmJ1dHRvbiB7XHJcbiAgYmFja2dyb3VuZDogI0Y0NDMzNjtcclxuICBmb250LXdlaWdodDogdW5zZXQ7XHJcbiAgYm9yZGVyOiAwXHJcbn0iXX0= */"

/***/ }),

/***/ "./src/app/add/add.component.html":
/*!****************************************!*\
  !*** ./src/app/add/add.component.html ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<section class=\"pb_section\" (click)=\"hideAll($event)\">\n  <div class=\"container main-content\">\n    <div class=\"col-sm-12\">\n      <form [formGroup]=\"form\" (ngSubmit)=\"add()\">\n        <div class=\"row\">\n          <div class=\"form-group\">\n            <label for=\"\">Template</label>\n            <input type=\"text\" class=\"form-control\" placeholder=\"\" aria-describedby=\"helpId\" formControlName=\"name\"\n              [ngClass]=\"{ 'is-invalid': submitted && f.name.errors }\">\n            <div *ngIf=\"submitted && f.name.errors\" class=\"invalid-feedback\">\n              <div *ngIf=\"f.name.errors.required\">Please enter name</div>\n            </div>\n          </div>\n        </div>\n        <div class=\"row\">\n          <div class=\"form-group\">\n            <div (dragover)=\"false\" (dragend)=\"false\" (drop)=\"handleDrop($event)\" (mousedown)=\"draw($event)\"\n              (mousemove)=\"shape($event)\" (mouseup)=\"finish($event)\">\n              <canvas id=\"canvas\" class=\"canvas\" height=\"450\" width=\"600\" [ngClass]=\"(!canvasActive) ? 'empty':'contant'\"></canvas>\n            </div>\n            <div class=\"row text-alert\" *ngIf=\"!canvasActive\">\n              <div class=\"col-sm-12\">\n                Template is not emty\n              </div>\n            </div>\n            <div class=\"row\" style=\"padding-top: 10px\">\n              <div class=\"col-sm-12\">\n                <div class=\"form-group\">\n                  <button type=\"button\" class=\"btn btn-success btn-md btn-block\" (click)=\"delete()\">Delete</button>\n                </div>\n              </div>\n            </div>\n            <div class=\"row\">\n              <div class=\"col-sm-6\">\n                <label for=\"inputFile\" class=\"inputFile\">\n                  Upload\n                </label>\n                <input type=\"file\" id=\"inputFile\" (change)=\"show($event)\">\n              </div>\n              <div class=\"col-sm-6 text-right\">\n                <label for=\"\"></label>\n                <button type=\"submit\" class=\"button-submit\">Submit</button>\n              </div>\n            </div>\n          </div>\n          <div class=\"infor\">\n            <ul>\n              <ul>\n                <li *ngFor=\"let e of  array; let i= index\">\n                  <ul>\n                    <li class=\"title\" *ngIf=\"arrayShoworHide[i] ? !arrayShoworHide[i]['show'] : ''\" (mouseover)=\"showTitle(i)\"><code>\n                        {{ e.title }}</code></li>\n                    <li class=\"title\" *ngIf=\"arrayShoworHide[i] ? arrayShoworHide[i]['show'] : '' \" (keyup)=changeTitle(i,title.value)\n                      (mouseout)=\"editTitle(i)\" (click)=\"change($event,i)\"><code><input style=\"width: 100px\" type=\"text\"\n                          [value]=\"e.title\" #title></code></li>\n                    <li>\n                      <ul>\n                        <li>\n                          <code>{{ e.srcX1}} , {{e.srcX2}}</code>\n                        </li>\n                        <li>\n                          <code> {{ e.srcY1 }}, {{ e.srcY2 }}</code>\n                        </li>\n                      </ul>\n                    </li>\n                  </ul>\n                </li>\n              </ul>\n            </ul>\n          </div>\n        </div>\n      </form>\n    </div>\n\n\n  </div>\n</section>\n<!-- END section -->\n"

/***/ }),

/***/ "./src/app/add/add.component.ts":
/*!**************************************!*\
  !*** ./src/app/add/add.component.ts ***!
  \**************************************/
/*! exports provided: AddComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AddComponent", function() { return AddComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var fabric__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! fabric */ "./node_modules/fabric/dist/fabric.js");
/* harmony import */ var fabric__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(fabric__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _service_service_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../service/service.service */ "./src/app/service/service.service.ts");
/* harmony import */ var ngx_toastr__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ngx-toastr */ "./node_modules/ngx-toastr/fesm5/ngx-toastr.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var AddComponent = /** @class */ (function () {
    function AddComponent(getData, toastr, formBuilder, router) {
        this.getData = getData;
        this.toastr = toastr;
        this.formBuilder = formBuilder;
        this.router = router;
        this.submitted = false;
        this.file = null;
        this.array = new Array;
        this.flagForNew = false;
        this.flagForMove = false;
        this.listTemplate = new Array;
        this.canvasActive = true;
        this.arrayShoworHide = new Array;
    }
    AddComponent.prototype.ngOnInit = function () {
        this.canvas = new fabric.Canvas('canvas', {});
        this.form = this.formBuilder.group({
            name: ['', _angular_forms__WEBPACK_IMPORTED_MODULE_4__["Validators"].required]
        });
        this.loadDataFromService();
    };
    Object.defineProperty(AddComponent.prototype, "f", {
        get: function () {
            return this.form.controls;
        },
        enumerable: true,
        configurable: true
    });
    AddComponent.prototype.loadDataFromService = function () {
        var _this = this;
        this.listTemplate = [];
        // this.getData.getTemplate().snapshotChanges().subscribe(i => {
        //   console.log(i[0].payload.val()[0]);
        // });
        var data = this.getData.getData();
        data.snapshotChanges().subscribe(function (item) {
            item.forEach(function (element) {
                _this.listTemplate.push(element.payload.val());
            });
        });
    };
    AddComponent.prototype.handleDrop = function (e) {
        var _this = this;
        this.file = e.dataTransfer.files[0];
        console.log(this.file);
        var reader = new FileReader();
        reader.onload = function (imgFile) {
            console.log(imgFile);
            var data = imgFile.target["result"];
            fabric.Image.fromURL(data, function (img) {
                var oImg = img.set({
                    left: 0,
                    top: 0,
                    angle: 0,
                    evented: false
                });
                img.scaleToHeight(450);
                img.scaleToWidth(600);
                _this.canvas.add(oImg).renderAll();
                // var a = this.canvas.setActiveObject(oImg);
                var dataURL = _this.canvas.toDataURL({ format: 'png', quality: 0.8 });
            });
        };
        reader.readAsDataURL(this.file);
        return false;
    };
    AddComponent.prototype.show = function (e) {
        var _this = this;
        this.file = e.target.files[0];
        // this.getData.uploadFile(this.file)
        var reader = new FileReader();
        reader.onload = function (imgFile) {
            var data = imgFile.target["result"];
            fabric.Image.fromURL(data, function (img) {
                var oImg = img.set({
                    left: 0,
                    top: 0,
                    angle: 0,
                    evented: false
                });
                img.scaleToHeight(450);
                img.scaleToWidth(600);
                _this.canvas.add(oImg);
                // var a = this.canvas.setActiveObject(oImg);
                // var dataURL = this.canvas.toDataURL({ format: 'png', quality: 0.8 });
            });
        };
        reader.readAsDataURL(this.file);
        return false;
    };
    AddComponent.prototype.draw = function (o) {
        if (this.canvas.getObjects().length == 0) {
            this.toastr.error("Upload Image");
            return 0;
        }
        if (this.canvas.getActiveObject()) {
            return 0;
        }
        ;
        if (this.canvas.getActiveObject() == null) {
            this.flagForNew = true;
        }
        this.canvas.selection = false;
        this.isDown = true;
        var pointer = this.canvas.getPointer(o.e);
        this.origX = pointer.x;
        this.origY = pointer.y;
        var pointer = this.canvas.getPointer(o.e);
        this.rect = new fabric.Rect({
            left: this.origX,
            top: this.origY,
            originX: 'left',
            originY: 'top',
            width: pointer.x - this.origX,
            height: pointer.y - this.origY,
            fill: '',
            stroke: 'blue',
            type: 'rect',
            // uuid: generateUUID(),
            strokeWidth: 2,
        });
        this.canvas.add(this.rect);
    };
    AddComponent.prototype.shape = function (o) {
        if (this.flagForNew == true && this.canvas.getActiveObject() == null) {
            this.flagForMove = true;
        }
        if (this.canvas.getActiveObject() != null) {
            var tmp = this.canvas.getActiveObject().aCoords;
            var srcX1 = tmp.tl.x * 2;
            var srcX2 = tmp.tl.y * 2;
            var srcY1 = tmp.br.x * 2;
            var srcY2 = tmp.br.y * 2;
            var index = this.canvas.getActiveObject().id;
            var elem = this.array;
            elem[index].srcX1 = srcX1;
            elem[index].srcX2 = srcX2;
            elem[index].srcY1 = srcY1;
            elem[index].srcY2 = srcY2;
        }
        if (!this.isDown)
            return;
        var pointer = this.canvas.getPointer(o.e);
        if (this.origX > pointer.x) {
            this.rect.set({ left: Math.abs(pointer.x) });
        }
        if (this.origY > pointer.y) {
            this.rect.set({ top: Math.abs(pointer.y) });
        }
        this.rect.set({ width: Math.abs(this.origX - pointer.x) });
        this.rect.set({ height: Math.abs(this.origY - pointer.y) });
        this.canvas.add(this.rect).renderAll();
    };
    AddComponent.prototype.finish = function (o) {
        this.isDown = false;
        if (this.flagForNew == true && this.flagForMove == true) {
            this.rect.id = this.array.length;
            var tmp = this.rect.aCoords;
            this.rect.id = this.array.length;
            var srcX1 = tmp.tl.x * 2;
            var srcX2 = tmp.tl.y * 2;
            var srcY1 = tmp.br.x * 2;
            var srcY2 = tmp.br.y * 2;
            var obj = {
                title: 'element' + this.array.length,
                srcX1: srcX1,
                srcX2: srcX2,
                srcY1: srcY1,
                srcY2: srcY2,
            };
            var arr = this.array;
            this.array.push(obj);
            this.arrayShoworHide.push({ show: false });
            // this.array['elements']push(obj)
            this.canvasActive = true;
        }
        this.flagForNew = false;
        this.flagForMove = false;
    };
    AddComponent.prototype.add = function () {
        this.submitted = true;
        var name = this.form.controls.name.value;
        this.canvasActive = typeof this.array !== 'undefined' && this.array.length > 0;
        if ((typeof this.array !== 'undefined' && this.array.length > 0)) {
            if (name != '') {
                var obj = {
                    name: name,
                    elements: this.array,
                };
                this.getData.uploadFile(this.file, obj);
                // this.router.navigate(['home'])
            }
        }
    };
    AddComponent.prototype.delete = function () {
        // if (this.isFile) return 0
        this.canvas.clear();
        var empty = [];
        this.array = empty;
        this.arrayShoworHide = empty;
    };
    AddComponent.prototype.showTitle = function (index) {
        if (!this.keepState) {
            this.arrayShoworHide[index]['show'] = true;
        }
        else {
            return 0;
        }
    };
    AddComponent.prototype.editTitle = function (index) {
        if (!this.keepState) {
            if (index != undefined || index != null) {
                this.arrayShoworHide[index]['show'] = false;
            }
        }
        else {
            return 0;
        }
    };
    AddComponent.prototype.change = function (event, index) {
        if (index === void 0) { index = null; }
        this.keepState = true;
        console.log(index);
        console.log(this.arrayShoworHide);
        this.arrayShoworHide[index]['show'] = true;
        this.flagNumber = index;
        console.log(this.flagNumber);
    };
    AddComponent.prototype.hideAll = function (event) {
        if (!$(event.target).closest('.title').length) {
            this.keepState = false;
            console.log(this.flagNumber);
            this.arrayShoworHide[this.flagNumber]['show'] = false;
        }
        // if ($('#menucontainer').is(":visible")) {
        //   $('#menucontainer').hide();
        // }
    };
    AddComponent.prototype.changeTitle = function (index, value) {
        // this.array.elements[index].title = value
        this.array[index]['title'] = value;
        console.log(this.array[index]['title']);
    };
    AddComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-add',
            template: __webpack_require__(/*! ./add.component.html */ "./src/app/add/add.component.html"),
            styles: [__webpack_require__(/*! ./add.component.css */ "./src/app/add/add.component.css")]
        }),
        __metadata("design:paramtypes", [_service_service_service__WEBPACK_IMPORTED_MODULE_2__["ServiceService"],
            ngx_toastr__WEBPACK_IMPORTED_MODULE_3__["ToastrService"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_4__["FormBuilder"],
            _angular_router__WEBPACK_IMPORTED_MODULE_5__["Router"]])
    ], AddComponent);
    return AddComponent;
}());



/***/ }),

/***/ "./src/app/app-routing.module.ts":
/*!***************************************!*\
  !*** ./src/app/app-routing.module.ts ***!
  \***************************************/
/*! exports provided: AppRoutingModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppRoutingModule", function() { return AppRoutingModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _add_add_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./add/add.component */ "./src/app/add/add.component.ts");
/* harmony import */ var _edit_edit_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./edit/edit.component */ "./src/app/edit/edit.component.ts");
/* harmony import */ var _home_home_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./home/home.component */ "./src/app/home/home.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};





var routes = [
    { path: 'add', component: _add_add_component__WEBPACK_IMPORTED_MODULE_2__["AddComponent"] },
    { path: 'edit/:id', component: _edit_edit_component__WEBPACK_IMPORTED_MODULE_3__["EditComponent"], runGuardsAndResolvers: "always" },
    { path: 'home', component: _home_home_component__WEBPACK_IMPORTED_MODULE_4__["HomeComponent"] },
    {
        path: '',
        redirectTo: '/home',
        pathMatch: 'full'
    },
];
var AppRoutingModule = /** @class */ (function () {
    function AppRoutingModule() {
    }
    AppRoutingModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            imports: [_angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterModule"].forRoot(routes, { onSameUrlNavigation: 'reload' })],
            exports: [_angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterModule"]]
        })
    ], AppRoutingModule);
    return AppRoutingModule;
}());



/***/ }),

/***/ "./src/app/app.component.css":
/*!***********************************!*\
  !*** ./src/app/app.component.css ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "ul li a:hover{\r\n    color: red!important;\r\n}\r\n.logo{\r\n    color: white;\r\n}\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYXBwLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxxQkFBcUI7Q0FDeEI7QUFDRDtJQUNJLGFBQWE7Q0FDaEIiLCJmaWxlIjoic3JjL2FwcC9hcHAuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbInVsIGxpIGE6aG92ZXJ7XHJcbiAgICBjb2xvcjogcmVkIWltcG9ydGFudDtcclxufVxyXG4ubG9nb3tcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxufSJdfQ== */"

/***/ }),

/***/ "./src/app/app.component.html":
/*!************************************!*\
  !*** ./src/app/app.component.html ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<nav class=\"navbar navbar-expand-lg  pb_navbar pb_scrolled-light\" id=\"pb-navbar\" style=\"background: linear-gradient(45deg, #665fee 0%, #27c2de 100%);height:10%\">\n  <div class=\"container\">\n    <a class=\"navbar-brand logo\" href=\"\">OCR templates</a>\n    <button class=\"navbar-toggler ml-auto\" type=\"button\" data-toggle=\"collapse\" data-target=\"#probootstrap-navbar\"\n      aria-controls=\"probootstrap-navbar\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n      <span><i class=\"ion-navicon\"></i></span>\n    </button>\n    <div class=\"collapse navbar-collapse\" id=\"probootstrap-navbar\">\n      <ul class=\"navbar-nav ml-auto\">\n        <li class=\"nav-item\"><a class=\"nav-link\" routerLink=\"/home\">Home</a></li>\n        <li class=\"nav-item\"><a class=\"nav-link\" routerLink=\"/add\">Add</a></li>\n        <li class=\"nav-item\"><a class=\"nav-link\" (click)=\"getTime()\" data-toggle=\"modal\" data-target=\"#homeModal\" style=\"cursor: pointer;\">Edit</a></li>\n      </ul>\n    </div>\n  </div>\n</nav>\n<!-- END nav -->\n<ngx-spinner bdColor=\"rgba(51, 51, 51, 0.8)\" size=\"large\" color=\"#fff\" type=\"pacman\"></ngx-spinner>\n<router-outlet>\n</router-outlet>\n\n<!-- END section -->\n<div class=\"modal fade\" id=\"homeModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalCenterTitle\"\n  aria-hidden=\"true\">\n  <div class=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n          <span aria-hidden=\"true\">&times;</span>\n        </button>\n      </div>\n      <div class=\"modal-body\">\n        <app-edit-table [time]='time'></app-edit-table>\n      </div>\n      <div class=\"modal-footer\">\n        <button type=\"button\" class=\"btn btn-primary\" data-dismiss=\"modal\">Close</button>\n      </div>\n    </div>\n  </div>\n</div>\n"

/***/ }),

/***/ "./src/app/app.component.ts":
/*!**********************************!*\
  !*** ./src/app/app.component.ts ***!
  \**********************************/
/*! exports provided: AppComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppComponent", function() { return AppComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

var AppComponent = /** @class */ (function () {
    function AppComponent() {
        this.title = 'thesis';
    }
    AppComponent.prototype.getTime = function () {
        this.time = new Date();
    };
    AppComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-root',
            template: __webpack_require__(/*! ./app.component.html */ "./src/app/app.component.html"),
            styles: [__webpack_require__(/*! ./app.component.css */ "./src/app/app.component.css")]
        })
    ], AppComponent);
    return AppComponent;
}());



/***/ }),

/***/ "./src/app/app.module.ts":
/*!*******************************!*\
  !*** ./src/app/app.module.ts ***!
  \*******************************/
/*! exports provided: AppModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppModule", function() { return AppModule; });
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm5/platform-browser.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _app_routing_module__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app-routing.module */ "./src/app/app-routing.module.ts");
/* harmony import */ var _app_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./app.component */ "./src/app/app.component.ts");
/* harmony import */ var _add_add_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./add/add.component */ "./src/app/add/add.component.ts");
/* harmony import */ var _edit_edit_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./edit/edit.component */ "./src/app/edit/edit.component.ts");
/* harmony import */ var _home_home_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./home/home.component */ "./src/app/home/home.component.ts");
/* harmony import */ var angularfire2__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! angularfire2 */ "./node_modules/angularfire2/index.js");
/* harmony import */ var angularfire2__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(angularfire2__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var angularfire2_database__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! angularfire2/database */ "./node_modules/angularfire2/database/index.js");
/* harmony import */ var angularfire2_database__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(angularfire2_database__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../environments/environment */ "./src/environments/environment.ts");
/* harmony import */ var _pipe_array_pipe__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./pipe/array.pipe */ "./src/app/pipe/array.pipe.ts");
/* harmony import */ var ngx_toastr__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ngx-toastr */ "./node_modules/ngx-toastr/fesm5/ngx-toastr.js");
/* harmony import */ var _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/platform-browser/animations */ "./node_modules/@angular/platform-browser/fesm5/animations.js");
/* harmony import */ var _edit_table_edit_table_component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./edit-table/edit-table.component */ "./src/app/edit-table/edit-table.component.ts");
/* harmony import */ var ngx_spinner__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ngx-spinner */ "./node_modules/ngx-spinner/fesm5/ngx-spinner.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
















var AppModule = /** @class */ (function () {
    function AppModule() {
    }
    AppModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
            declarations: [
                _app_component__WEBPACK_IMPORTED_MODULE_4__["AppComponent"],
                _add_add_component__WEBPACK_IMPORTED_MODULE_5__["AddComponent"],
                _edit_edit_component__WEBPACK_IMPORTED_MODULE_6__["EditComponent"],
                _home_home_component__WEBPACK_IMPORTED_MODULE_7__["HomeComponent"],
                _pipe_array_pipe__WEBPACK_IMPORTED_MODULE_11__["ArrayPipe"],
                _edit_table_edit_table_component__WEBPACK_IMPORTED_MODULE_14__["EditTableComponent"],
            ],
            imports: [
                ngx_spinner__WEBPACK_IMPORTED_MODULE_15__["NgxSpinnerModule"],
                _angular_platform_browser__WEBPACK_IMPORTED_MODULE_0__["BrowserModule"],
                _app_routing_module__WEBPACK_IMPORTED_MODULE_3__["AppRoutingModule"],
                angularfire2__WEBPACK_IMPORTED_MODULE_8__["AngularFireModule"].initializeApp(_environments_environment__WEBPACK_IMPORTED_MODULE_10__["environment"].firebaseConfig),
                angularfire2_database__WEBPACK_IMPORTED_MODULE_9__["AngularFireDatabaseModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_2__["ReactiveFormsModule"],
                ngx_toastr__WEBPACK_IMPORTED_MODULE_12__["ToastrModule"].forRoot(), _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_13__["BrowserAnimationsModule"]
            ],
            providers: [],
            bootstrap: [_app_component__WEBPACK_IMPORTED_MODULE_4__["AppComponent"]]
        })
    ], AppModule);
    return AppModule;
}());



/***/ }),

/***/ "./src/app/edit-table/edit-table.component.css":
/*!*****************************************************!*\
  !*** ./src/app/edit-table/edit-table.component.css ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".custom-table {\r\n  box-shadow: #9E9E9E 1px 6px 16px;\r\n  background: #fff\r\n}\r\n\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZWRpdC10YWJsZS9lZGl0LXRhYmxlLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxpQ0FBaUM7RUFDakMsZ0JBQWdCO0NBQ2pCIiwiZmlsZSI6InNyYy9hcHAvZWRpdC10YWJsZS9lZGl0LXRhYmxlLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY3VzdG9tLXRhYmxlIHtcclxuICBib3gtc2hhZG93OiAjOUU5RTlFIDFweCA2cHggMTZweDtcclxuICBiYWNrZ3JvdW5kOiAjZmZmXHJcbn1cclxuIl19 */"

/***/ }),

/***/ "./src/app/edit-table/edit-table.component.html":
/*!******************************************************!*\
  !*** ./src/app/edit-table/edit-table.component.html ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<section class=\"pb_section\">\n  <div class=\"container\">\n    <div class=\"form-group\">\n      <h3>List of templates</h3>\n    </div>\n    <div class=\"form-group\">\n      <table class=\"table custom-table\">\n        <thead>\n          <tr>\n            <th class=\"text-center\">STT</th>\n            <th>Tên khuân mẫu</th>\n            <th>Số các phần tử</th>\n            <th></th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr style=\"height: 10%;\" *ngFor=\"let item of listTemplate  ; let i = index\">\n            <td class=\"text-center\" scope=\"row\" [routerLink]=\"['/edit', i]\">{{ i\n              }}</td>\n            <td>{{ item.name }}</td>\n            <td>{{ item.elements | array }}</td>\n            <td>\n              <button type=\"button\" class=\"btn btn-warning\" [routerLink]=\"['/edit', i]\">Edit</button></td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n</section>\n"

/***/ }),

/***/ "./src/app/edit-table/edit-table.component.ts":
/*!****************************************************!*\
  !*** ./src/app/edit-table/edit-table.component.ts ***!
  \****************************************************/
/*! exports provided: EditTableComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EditTableComponent", function() { return EditTableComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _service_service_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../service/service.service */ "./src/app/service/service.service.ts");
/* harmony import */ var ngx_toastr__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ngx-toastr */ "./node_modules/ngx-toastr/fesm5/ngx-toastr.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var EditTableComponent = /** @class */ (function () {
    function EditTableComponent(getData, toastr) {
        this.getData = getData;
        this.toastr = toastr;
        this.listTemplate = [];
        // console.log(this.activeRoute)
    }
    EditTableComponent.prototype.ngOnInit = function () {
        this.loadData();
    };
    EditTableComponent.prototype.ngOnChanges = function () {
        this.loadData();
        //Called before any other lifecycle hook. Use it to inject dependencies, but avoid any serious work here.
        //Add '${implements OnChanges}' to the class.
    };
    EditTableComponent.prototype.loadData = function () {
        var _this = this;
        this.listTemplate = [];
        var data = this.getData.getData();
        data.snapshotChanges().subscribe(function (item) {
            // item.map(element => {
            //   var element = element.payload.toJSON();
            //   console.log(element.key)
            //   this.listTemplate.push(element)
            // });
            item.forEach(function (e) {
                var y = e.payload.toJSON();
                y["$key"] = e.key;
                _this.listTemplate.push(y);
            });
        });
        console.log(this.listTemplate);
    };
    EditTableComponent.prototype.delete = function ($key) {
        console.log($key);
        if (confirm("Are you sure delete") == true) {
            this.getData.deleteTemplate($key);
            this.toastr.warning("Delete Sucessfully");
            this.listTemplate = [];
            this.hideModal();
            // console.log($('.modal'))
            // this.loadData()
        }
    };
    EditTableComponent.prototype.hideModal = function () {
        // $('#homeModal').modal('hide');
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])('time'),
        __metadata("design:type", Object)
    ], EditTableComponent.prototype, "time", void 0);
    EditTableComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-edit-table',
            template: __webpack_require__(/*! ./edit-table.component.html */ "./src/app/edit-table/edit-table.component.html"),
            styles: [__webpack_require__(/*! ./edit-table.component.css */ "./src/app/edit-table/edit-table.component.css")]
        }),
        __metadata("design:paramtypes", [_service_service_service__WEBPACK_IMPORTED_MODULE_1__["ServiceService"],
            ngx_toastr__WEBPACK_IMPORTED_MODULE_2__["ToastrService"]])
    ], EditTableComponent);
    return EditTableComponent;
}());



/***/ }),

/***/ "./src/app/edit/edit.component.css":
/*!*****************************************!*\
  !*** ./src/app/edit/edit.component.css ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".button-custom {\r\n  background: #fff;\r\n  color: #4a8ae7;\r\n  border: 2px solid #4a8ae7\r\n}\r\n\r\n.button-custom.active {\r\n  background: #4a8ae7;\r\n  color: white;\r\n}\r\n\r\nul, li{\r\n    list-style: none;\r\n}\r\n\r\n.section {\r\n  padding-top: 40px\r\n}\r\n\r\n.checkbox {\r\n  padding: 10px 15px 10px 0;\r\n  float: left;\r\n}\r\n\r\n.container{\r\n    min-width: 992px;\r\n}\r\n\r\ninput[type=\"radio\"] {\r\n  display: none;\r\n}\r\n\r\n.ckeckbox{\r\n    display: flex;\r\n}\r\n\r\n.checkbox label{\r\n    display: flex;\r\n    float: left;\r\n    margin-right: 20px\r\n}\r\n\r\ninput[type=\"radio\"]+span{\r\n  content: '';\r\n  display: inline-block;\r\n  width: 30px;\r\n  height: 30px;\r\n  border: 1px solid black;\r\n  display: flex;\r\n  flex-direction: row;\r\n  margin-right: 20px\r\n}\r\n\r\ninput[type=\"radio\"]:checked+span::before {\r\n  content: \"\\f00c\";\r\n  font-weight: 600;\r\n  font-family: \"Font Awesome 5 Free\";\r\n  color: #0c630c;\r\n  font-size: 1.5em;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center\r\n}\r\n\r\nbutton.delete {\r\n  /* background: linear-gradient(45deg, #665fee 0%, #27c2de 100%) */\r\n  background: #F44336;\r\n  border: 0px\r\n}\r\n\r\nbutton.delete:hover {\r\n  background: rgb(253, 85, 73)\r\n}\r\n\r\ninput[type=\"file\"] {\r\n  display: none\r\n}\r\n\r\n.button-submit {\r\n  background: #0088cc;\r\n  border-radius: 7px;\r\n  width: 125px;\r\n  text-align: center;\r\n  color: white;\r\n  border: 0px;\r\n  font-weight: unset\r\n}\r\n\r\n.button-submit:hover {\r\n  background: #05a5f5\r\n}\r\n\r\n.infor{\r\n    position: absolute;\r\n    top: 0px;\r\n    right: 10%\r\n}\r\n\r\n/* .infor li input{\r\n  width: 100px;\r\n} */\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZWRpdC9lZGl0LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxpQkFBaUI7RUFDakIsZUFBZTtFQUNmLHlCQUF5QjtDQUMxQjs7QUFFRDtFQUNFLG9CQUFvQjtFQUNwQixhQUFhO0NBQ2Q7O0FBQ0Q7SUFDSSxpQkFBaUI7Q0FDcEI7O0FBQ0Q7RUFDRSxpQkFBaUI7Q0FDbEI7O0FBRUQ7RUFDRSwwQkFBMEI7RUFDMUIsWUFBWTtDQUNiOztBQUNEO0lBQ0ksaUJBQWlCO0NBQ3BCOztBQUNEO0VBQ0UsY0FBYztDQUNmOztBQUVEO0lBQ0ksY0FBYztDQUNqQjs7QUFDRDtJQUNJLGNBQWM7SUFDZCxZQUFZO0lBQ1osa0JBQWtCO0NBQ3JCOztBQUNEO0VBQ0UsWUFBWTtFQUNaLHNCQUFzQjtFQUN0QixZQUFZO0VBQ1osYUFBYTtFQUNiLHdCQUF3QjtFQUN4QixjQUFjO0VBQ2Qsb0JBQW9CO0VBQ3BCLGtCQUFrQjtDQUNuQjs7QUFFRDtFQUNFLGlCQUFpQjtFQUNqQixpQkFBaUI7RUFDakIsbUNBQW1DO0VBQ25DLGVBQWU7RUFDZixpQkFBaUI7RUFDakIsY0FBYztFQUNkLG9CQUFvQjtFQUNwQix1QkFBdUI7Q0FDeEI7O0FBRUQ7RUFDRSxrRUFBa0U7RUFDbEUsb0JBQW9CO0VBQ3BCLFdBQVc7Q0FDWjs7QUFFRDtFQUNFLDRCQUE0QjtDQUM3Qjs7QUFJRDtFQUNFLGFBQWE7Q0FDZDs7QUFFRDtFQUNFLG9CQUFvQjtFQUNwQixtQkFBbUI7RUFDbkIsYUFBYTtFQUNiLG1CQUFtQjtFQUNuQixhQUFhO0VBQ2IsWUFBWTtFQUNaLGtCQUFrQjtDQUNuQjs7QUFFRDtFQUNFLG1CQUFtQjtDQUNwQjs7QUFDRDtJQUNJLG1CQUFtQjtJQUNuQixTQUFTO0lBQ1QsVUFBVTtDQUNiOztBQUNEOztJQUVJIiwiZmlsZSI6InNyYy9hcHAvZWRpdC9lZGl0LmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuYnV0dG9uLWN1c3RvbSB7XHJcbiAgYmFja2dyb3VuZDogI2ZmZjtcclxuICBjb2xvcjogIzRhOGFlNztcclxuICBib3JkZXI6IDJweCBzb2xpZCAjNGE4YWU3XHJcbn1cclxuXHJcbi5idXR0b24tY3VzdG9tLmFjdGl2ZSB7XHJcbiAgYmFja2dyb3VuZDogIzRhOGFlNztcclxuICBjb2xvcjogd2hpdGU7XHJcbn1cclxudWwsIGxpe1xyXG4gICAgbGlzdC1zdHlsZTogbm9uZTtcclxufVxyXG4uc2VjdGlvbiB7XHJcbiAgcGFkZGluZy10b3A6IDQwcHhcclxufVxyXG5cclxuLmNoZWNrYm94IHtcclxuICBwYWRkaW5nOiAxMHB4IDE1cHggMTBweCAwO1xyXG4gIGZsb2F0OiBsZWZ0O1xyXG59XHJcbi5jb250YWluZXJ7XHJcbiAgICBtaW4td2lkdGg6IDk5MnB4O1xyXG59XHJcbmlucHV0W3R5cGU9XCJyYWRpb1wiXSB7XHJcbiAgZGlzcGxheTogbm9uZTtcclxufVxyXG5cclxuLmNrZWNrYm94e1xyXG4gICAgZGlzcGxheTogZmxleDtcclxufVxyXG4uY2hlY2tib3ggbGFiZWx7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxvYXQ6IGxlZnQ7XHJcbiAgICBtYXJnaW4tcmlnaHQ6IDIwcHhcclxufVxyXG5pbnB1dFt0eXBlPVwicmFkaW9cIl0rc3BhbntcclxuICBjb250ZW50OiAnJztcclxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgd2lkdGg6IDMwcHg7XHJcbiAgaGVpZ2h0OiAzMHB4O1xyXG4gIGJvcmRlcjogMXB4IHNvbGlkIGJsYWNrO1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgZmxleC1kaXJlY3Rpb246IHJvdztcclxuICBtYXJnaW4tcmlnaHQ6IDIwcHhcclxufVxyXG5cclxuaW5wdXRbdHlwZT1cInJhZGlvXCJdOmNoZWNrZWQrc3Bhbjo6YmVmb3JlIHtcclxuICBjb250ZW50OiBcIlxcZjAwY1wiO1xyXG4gIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbiAgZm9udC1mYW1pbHk6IFwiRm9udCBBd2Vzb21lIDUgRnJlZVwiO1xyXG4gIGNvbG9yOiAjMGM2MzBjO1xyXG4gIGZvbnQtc2l6ZTogMS41ZW07XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyXHJcbn1cclxuXHJcbmJ1dHRvbi5kZWxldGUge1xyXG4gIC8qIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCg0NWRlZywgIzY2NWZlZSAwJSwgIzI3YzJkZSAxMDAlKSAqL1xyXG4gIGJhY2tncm91bmQ6ICNGNDQzMzY7XHJcbiAgYm9yZGVyOiAwcHhcclxufVxyXG5cclxuYnV0dG9uLmRlbGV0ZTpob3ZlciB7XHJcbiAgYmFja2dyb3VuZDogcmdiKDI1MywgODUsIDczKVxyXG59XHJcblxyXG5cclxuXHJcbmlucHV0W3R5cGU9XCJmaWxlXCJdIHtcclxuICBkaXNwbGF5OiBub25lXHJcbn1cclxuXHJcbi5idXR0b24tc3VibWl0IHtcclxuICBiYWNrZ3JvdW5kOiAjMDA4OGNjO1xyXG4gIGJvcmRlci1yYWRpdXM6IDdweDtcclxuICB3aWR0aDogMTI1cHg7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gIGNvbG9yOiB3aGl0ZTtcclxuICBib3JkZXI6IDBweDtcclxuICBmb250LXdlaWdodDogdW5zZXRcclxufVxyXG5cclxuLmJ1dHRvbi1zdWJtaXQ6aG92ZXIge1xyXG4gIGJhY2tncm91bmQ6ICMwNWE1ZjVcclxufVxyXG4uaW5mb3J7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICB0b3A6IDBweDtcclxuICAgIHJpZ2h0OiAxMCVcclxufVxyXG4vKiAuaW5mb3IgbGkgaW5wdXR7XHJcbiAgd2lkdGg6IDEwMHB4O1xyXG59ICovIl19 */"

/***/ }),

/***/ "./src/app/edit/edit.component.html":
/*!******************************************!*\
  !*** ./src/app/edit/edit.component.html ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<section class=\"pb_section\" (click)=\"hideAll($event)\">\n  <div class=\"container main-content\">\n    <form [formGroup]=\"form\" (ngSubmit)=\"updateTemplate()\">\n      <div class=\"row\">\n        <div class=\"col-lg-3 col-md-3 col-sm-4\">\n          <label for=\"\">Templates</label>\n          <input type=\"text\" name=\"name\" formControlName=\"name\" id=\"\" class=\"form-control\" placeholder=\"\"\n            aria-describedby=\"helpId\">\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"col-sm-12\">\n          <div class=\"checkbox\">\n            <label>\n              <input id=\"option1\" type=\"radio\" formControlName=\"type\" value=\"1\" [checked]=1>\n              <span></span>Modify\n            </label>\n            <label>\n              <input id=\"option2\" type=\"radio\" formControlName=\"type\" value=\"2\">\n              <span></span>Add\n            </label>\n          </div>\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"col-sm-8\">\n          <div class=\"\">\n            <div (dragover)=\"false\" (dragend)=\"false\" (drop)=\"handleDrop($event)\" (mousedown)=\"draw($event)\"\n              (mousemove)=\"shape($event)\" (mouseup)=\"finish($event)\">\n              <canvas id=\"canvas\" class=\"canvas form-group\" height=\"450\" width=\"600\" style=\"border: 1px solid\"></canvas>\n            </div>\n            <div class=\"\" style=\"padding-top: 10px;width :600px\">\n              <div class=\"\">\n                <div class=\"form-group\">\n                  <button type=\"button\" class=\"btn btn-success btn-md btn-block delete\" (click)=\"delete()\">Delete</button>\n                </div>\n              </div>\n              <div class=\"row\">\n                <div class=\"col-sm-6\">\n                  <label for=\"inputFile\" class=\"button-submit\">\n                    File\n                  </label>\n                  <input type=\"file\" name=\"inputFile\" id=\"inputFile\" (change)=\"show($event)\">\n                </div>\n                <div class=\"col-sm-6 text-right\">\n                  <div class=\"form-group\">\n                    <label for=\"\"></label>\n                    <button class=\"button-submit\" type=\"submit\">Apply</button>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n          </div>\n        </div>\n        <div class=\"col-sm-4\">\n          <div class=\"row\">\n            <ul>\n              <li><code>{{ array ? array.name : '' }}</code></li>\n              <ul>\n                <li *ngFor=\"let e of  (array ? array.elements : '') ; let i = index\">\n                  <ul>\n                    <li class=\"title\" *ngIf=\"arrayShoworHide[i] ? !arrayShoworHide[i]['show'] : ''\" (mouseover)=\"showTitle(i)\"><code>\n                        {{ e.title }}</code></li>\n                    <li class=\"title\" *ngIf=\"arrayShoworHide[i] ? arrayShoworHide[i]['show'] : '' \" (keyup)=changeTitle(i,title.value)\n                      (mouseout)=\"editTitle(i)\" (click)=\"change($event,i)\"><code><input style=\"width: 100px\" type=\"text\"\n                          [value]=\"e.title\" #title></code></li>\n                    <li>\n                      <ul>\n                        <li>\n                          <code>{{ e.srcX1}} , {{e.srcX2}}</code>\n                        </li>\n                        <li>\n                          <code> {{ e.srcY1 }}, {{ e.srcY2 }}</code>\n                        </li>\n                      </ul>\n                    </li>\n                  </ul>\n                </li>\n              </ul>\n            </ul>\n          </div>\n        </div>\n\n      </div>\n    </form>\n\n  </div>\n</section>\n<!-- END section -->\n"

/***/ }),

/***/ "./src/app/edit/edit.component.ts":
/*!****************************************!*\
  !*** ./src/app/edit/edit.component.ts ***!
  \****************************************/
/*! exports provided: EditComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EditComponent", function() { return EditComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var fabric__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! fabric */ "./node_modules/fabric/dist/fabric.js");
/* harmony import */ var fabric__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(fabric__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _service_service_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../service/service.service */ "./src/app/service/service.service.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var ngx_toastr__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ngx-toastr */ "./node_modules/ngx-toastr/fesm5/ngx-toastr.js");
/* harmony import */ var ngx_spinner__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ngx-spinner */ "./node_modules/ngx-spinner/fesm5/ngx-spinner.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var EditComponent = /** @class */ (function () {
    function EditComponent(getData, formBuilder, activeRoute, toastr, router, spinner) {
        var _this = this;
        this.getData = getData;
        this.formBuilder = formBuilder;
        this.activeRoute = activeRoute;
        this.toastr = toastr;
        this.router = router;
        this.spinner = spinner;
        this.isFile = true;
        this.listTemplate = new Array; //load from service
        this.file = null;
        this.flagForNew = false;
        this.flagForMove = false;
        this.flagForDelete = true;
        this.arrayShoworHide = new Array;
        this.keepState = false;
        this.flagNumber = 0;
        this.form = formBuilder.group({
            type: ['1'],
            name: ['', _angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required]
        });
        activeRoute.params.subscribe(function (val) {
            _this.idTemplate = val.id;
            _this.loadDataFromService();
        });
    }
    EditComponent.prototype.ngOnInit = function () {
        this.canvas = new fabric.Canvas('canvas', { selection: false });
    };
    Object.defineProperty(EditComponent.prototype, "f", {
        get: function () {
            return this.form.controls;
        },
        enumerable: true,
        configurable: true
    });
    // load data from cloud serivice
    EditComponent.prototype.loadDataFromService = function () {
        var _this = this;
        if (this.canvas != undefined) {
            this.canvas.clear();
        }
        var data = this.getData.getData();
        data.snapshotChanges().subscribe(function (item) {
            _this.spinner.show();
            item.forEach(function (element) {
                var y = element.payload.val();
                y["$key"] = element.key;
                _this.listTemplate.push(y);
            });
            _this.array = _this.listTemplate[_this.idTemplate];
            for (var i = 0; i < _this.array.elements.length; i++) {
                _this.arrayShoworHide.push({ show: false });
            }
            _this.form.patchValue({
                name: _this.array['name']
            });
            _this.file = _this.listTemplate[_this.idTemplate]['file'];
            _this.isFile = false;
            fabric.Image.fromURL(_this.file, function (img) {
                _this.spinner.hide();
                var oImg = img.set({
                    left: 0,
                    top: 0,
                    angle: 0,
                    evented: false
                });
                img.scaleToHeight(450);
                img.scaleToWidth(600);
                _this.canvas.add(oImg).renderAll();
                if (_this.flagForDelete) {
                    _this.createTemplate();
                }
                // this.canvas.add(img).renderAll()
            });
            _this.createTemplate();
        });
    };
    // crate template by data was get before
    EditComponent.prototype.createTemplate = function () {
        var _this = this;
        var i = 0;
        this.listTemplate[this.idTemplate].elements.forEach(function (e) {
            var x1 = e.srcX1 / 2;
            var x2 = e.srcX2 / 2;
            var y1 = e.srcY1 / 2;
            var y2 = e.srcY2 / 2;
            var rect = new fabric.Rect({
                left: x1,
                top: x2,
                originX: 'left',
                orginY: 'top',
                width: y1 - x1,
                height: y2 - x2,
                fill: '',
                stroke: 'blue',
                type: 'rect',
                strokeWidth: 2,
            });
            rect.id = i;
            _this.canvas.add(rect).renderAll();
            i++;
        });
    };
    //show img with input
    EditComponent.prototype.show = function (e) {
        var _this = this;
        this.canvas.clear();
        this.array = this.listTemplate[this.idTemplate];
        this.isFile = false;
        this.file = e.target.files[0];
        var reader = new FileReader();
        reader.onload = function (imgFile) {
            var data = imgFile.target["result"];
            console.log(data);
            fabric.Image.fromURL(data, function (img) {
                var oImg = img.set({
                    left: 0,
                    top: 0,
                    angle: 0,
                    evented: false
                });
                img.scaleToHeight(450);
                img.scaleToWidth(600);
                _this.canvas.add(oImg).renderAll();
                if (_this.flagForDelete) {
                    _this.createTemplate();
                }
            });
        };
        reader.readAsDataURL(this.file);
        return false;
    };
    EditComponent.prototype.draw = function (o) {
        if (this.isFile) {
            this.toastr.error("Upload Image");
            return 0;
        }
        ;
        if (this.form.controls.type.value == 2 && this.canvas.getActiveObject() == null) {
            this.flagForNew = true;
        }
        if (this.form.controls.type.value == 1)
            return 0;
        if (this.canvas.getActiveObject()) {
            return 0;
        }
        ;
        this.canvas.selection = false;
        this.isDown = true;
        var pointer = this.canvas.getPointer(o.e);
        this.origX = pointer.x;
        this.origY = pointer.y;
        this.rect = new fabric.Rect({
            left: this.origX,
            top: this.origY,
            originX: 'left',
            originY: 'top',
            width: pointer.x - this.origX,
            height: pointer.y - this.origY,
            fill: '',
            stroke: 'blue',
            type: 'rect',
            strokeWidth: 2,
        });
        this.canvas.add(this.rect);
    };
    EditComponent.prototype.shape = function (o) {
        var i = 0;
        if (this.flagForNew == true && this.form.controls.type.value == 2 && this.canvas.getActiveObject() == null) {
            console.log(this.flagForMove);
            this.flagForMove = true;
        }
        if (this.canvas.getActiveObject() != null) {
            var tmp = this.canvas.getActiveObject().aCoords;
            var srcX1 = tmp.tl.x * 2;
            var srcX2 = tmp.tl.y * 2;
            var srcY1 = tmp.br.x * 2;
            var srcY2 = tmp.br.y * 2;
            var index = this.canvas.getActiveObject().id;
            var elem = this.array['elements'];
            elem[index].srcX1 = srcX1;
            elem[index].srcX2 = srcX2;
            elem[index].srcY1 = srcY1;
            elem[index].srcY2 = srcY2;
        }
        if (!this.isDown)
            return;
        var pointer = this.canvas.getPointer(o.e);
        if (this.origX > pointer.x) {
            this.rect.set({ left: Math.abs(pointer.x) });
        }
        if (this.origY > pointer.y) {
            this.rect.set({ top: Math.abs(pointer.y) });
        }
        this.rect.set({ width: Math.abs(this.origX - pointer.x) });
        this.rect.set({ height: Math.abs(this.origY - pointer.y) });
        this.canvas.add(this.rect).renderAll();
    };
    EditComponent.prototype.finish = function (o) {
        this.isDown = false;
        if (this.flagForNew == true && this.flagForMove == true) {
            this.rect.id = this.array['elements'].length;
            var tmp = this.rect.aCoords;
            var srcX1 = tmp.tl.x * 2;
            var srcX2 = tmp.tl.y * 2;
            var srcY1 = tmp.br.x * 2;
            var srcY2 = tmp.br.y * 2;
            var obj = {
                title: 'element',
                srcX1: srcX1,
                srcX2: srcX2,
                srcY1: srcY1,
                srcY2: srcY2,
            };
            this.array['elements'].push(obj);
            this.arrayShoworHide = [];
            for (var i = 0; i < this.array.elements.length; i++) {
                this.arrayShoworHide.push({ show: false });
            }
            console.log(this.arrayShoworHide);
        }
        this.flagForNew = false;
        this.flagForMove = false;
    };
    EditComponent.prototype.delete = function () {
        // if (this.isFile) return 0
        this.canvas.clear();
        this.flagForDelete = false;
        var empty = [];
        this.array['elements'] = empty;
        this.isFile = true;
    };
    EditComponent.prototype.updateTemplate = function () {
        var obj = {
            $key: this.array["$key"],
            name: this.f.name.value,
            elements: this.array['elements'],
        };
        this.getData.updateData(this.file, obj);
    };
    EditComponent.prototype.showTitle = function (index) {
        if (!this.keepState) {
            this.arrayShoworHide[index]['show'] = true;
        }
        else {
            return 0;
        }
    };
    EditComponent.prototype.editTitle = function (index) {
        if (!this.keepState) {
            if (index != undefined || index != null) {
                this.arrayShoworHide[index]['show'] = false;
            }
        }
        else {
            return 0;
        }
    };
    EditComponent.prototype.change = function (event, index) {
        if (index === void 0) { index = null; }
        this.keepState = true;
        console.log(index);
        console.log(this.arrayShoworHide);
        this.arrayShoworHide[index]['show'] = true;
        this.flagNumber = index;
        console.log(this.flagNumber);
    };
    EditComponent.prototype.hideAll = function (event) {
        if (!$(event.target).closest('.title').length) {
            this.keepState = false;
            console.log(this.flagNumber);
            this.arrayShoworHide[this.flagNumber]['show'] = false;
        }
        // if ($('#menucontainer').is(":visible")) {
        //   $('#menucontainer').hide();
        // }
    };
    EditComponent.prototype.changeTitle = function (index, value) {
        // this.array.elements[index].title = value
        this.array.elements[index]['title'] = value;
        console.log(this.array.elements[index]['title']);
    };
    EditComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-edit',
            template: __webpack_require__(/*! ./edit.component.html */ "./src/app/edit/edit.component.html"),
            styles: [__webpack_require__(/*! ./edit.component.css */ "./src/app/edit/edit.component.css")]
        }),
        __metadata("design:paramtypes", [_service_service_service__WEBPACK_IMPORTED_MODULE_2__["ServiceService"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormBuilder"],
            _angular_router__WEBPACK_IMPORTED_MODULE_4__["ActivatedRoute"],
            ngx_toastr__WEBPACK_IMPORTED_MODULE_5__["ToastrService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_4__["Router"],
            ngx_spinner__WEBPACK_IMPORTED_MODULE_6__["NgxSpinnerService"]])
    ], EditComponent);
    return EditComponent;
}());



/***/ }),

/***/ "./src/app/home/home.component.css":
/*!*****************************************!*\
  !*** ./src/app/home/home.component.css ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".custom-table {\r\n  box-shadow: #9E9E9E 1px 6px 16px;\r\n  background: #fff\r\n}\r\n\r\n\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvaG9tZS9ob21lLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxpQ0FBaUM7RUFDakMsZ0JBQWdCO0NBQ2pCIiwiZmlsZSI6InNyYy9hcHAvaG9tZS9ob21lLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY3VzdG9tLXRhYmxlIHtcclxuICBib3gtc2hhZG93OiAjOUU5RTlFIDFweCA2cHggMTZweDtcclxuICBiYWNrZ3JvdW5kOiAjZmZmXHJcbn1cclxuXHJcbiJdfQ== */"

/***/ }),

/***/ "./src/app/home/home.component.html":
/*!******************************************!*\
  !*** ./src/app/home/home.component.html ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<section class=\"pb_section\">\n  <div class=\"container\">\n    <div class=\"form-group\">\n      <h3>List of templates</h3>\n    </div>\n    <div class=\"form-group\">\n      <table class=\"table custom-table\">\n        <thead>\n          <tr>\n            <th class=\"text-center\">STT</th>\n            <th>Tên khuân mẫu</th>\n            <th>Số các phần tử</th>\n            <th></th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr style=\"height: 10%;\" *ngFor=\"let item of listTemplate  ; let i = index\">\n            <td class=\"text-center\" scope=\"row\" [routerLink]=\"['/edit', i]\">{{ i\n              }}</td>\n            <td>{{ item.name }}</td>\n            <td>{{ item.elements | array }}</td>\n            <td><button type=\"button\" class=\"btn btn-danger\" (click)=\"delete(item.$key)\">Delete</button>\n              <button type=\"button\" class=\"btn btn-warning\" [routerLink]=\"['/edit', i]\" >Edit</button></td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n</section>\n"

/***/ }),

/***/ "./src/app/home/home.component.ts":
/*!****************************************!*\
  !*** ./src/app/home/home.component.ts ***!
  \****************************************/
/*! exports provided: HomeComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HomeComponent", function() { return HomeComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _service_service_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../service/service.service */ "./src/app/service/service.service.ts");
/* harmony import */ var ngx_toastr__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ngx-toastr */ "./node_modules/ngx-toastr/fesm5/ngx-toastr.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var HomeComponent = /** @class */ (function () {
    function HomeComponent(getData, toastr, zone
    // private activeRoute : ActivatedRoute,
    // private route : Route
    ) {
        this.getData = getData;
        this.toastr = toastr;
        this.zone = zone;
        this.listTemplate = [];
        // console.log(this.activeRoute)
    }
    HomeComponent.prototype.ngOnInit = function () {
        this.loadData();
    };
    HomeComponent.prototype.ngOnChanges = function () {
        this.loadData();
        //Called before any other lifecycle hook. Use it to inject dependencies, but avoid any serious work here.
        //Add '${implements OnChanges}' to the class.
    };
    HomeComponent.prototype.loadData = function () {
        var _this = this;
        this.listTemplate = [];
        var data = this.getData.getData();
        data.snapshotChanges().subscribe(function (item) {
            // item.map(element => {
            //   var element = element.payload.toJSON();
            //   console.log(element.key)
            //   this.listTemplate.push(element)
            // });
            item.forEach(function (e) {
                var y = e.payload.toJSON();
                y["$key"] = e.key;
                _this.listTemplate.push(y);
            });
        });
        console.log(this.listTemplate);
    };
    HomeComponent.prototype.delete = function ($key) {
        console.log($key);
        if (confirm("Are you sure delete") == true) {
            this.getData.deleteTemplate($key);
            this.toastr.warning("Delete Sucessfully");
            this.listTemplate = [];
            this.hideModal();
            // console.log($('.modal'))
            // this.loadData()
        }
    };
    HomeComponent.prototype.hideModal = function () {
        // $('#homeModal').modal('hide');
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])('time'),
        __metadata("design:type", Object)
    ], HomeComponent.prototype, "time", void 0);
    HomeComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-home',
            template: __webpack_require__(/*! ./home.component.html */ "./src/app/home/home.component.html"),
            styles: [__webpack_require__(/*! ./home.component.css */ "./src/app/home/home.component.css")]
        }),
        __metadata("design:paramtypes", [_service_service_service__WEBPACK_IMPORTED_MODULE_1__["ServiceService"],
            ngx_toastr__WEBPACK_IMPORTED_MODULE_2__["ToastrService"],
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"]
            // private activeRoute : ActivatedRoute,
            // private route : Route
        ])
    ], HomeComponent);
    return HomeComponent;
}());



/***/ }),

/***/ "./src/app/pipe/array.pipe.ts":
/*!************************************!*\
  !*** ./src/app/pipe/array.pipe.ts ***!
  \************************************/
/*! exports provided: ArrayPipe */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ArrayPipe", function() { return ArrayPipe; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

var ArrayPipe = /** @class */ (function () {
    function ArrayPipe() {
    }
    ArrayPipe.prototype.transform = function (value, args) {
        // console.log(Object.keys(value))
        return Object.keys(value).length;
    };
    ArrayPipe = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Pipe"])({
            name: 'array'
        })
    ], ArrayPipe);
    return ArrayPipe;
}());



/***/ }),

/***/ "./src/app/service/service.service.ts":
/*!********************************************!*\
  !*** ./src/app/service/service.service.ts ***!
  \********************************************/
/*! exports provided: ServiceService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ServiceService", function() { return ServiceService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var angularfire2_database__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! angularfire2/database */ "./node_modules/angularfire2/database/index.js");
/* harmony import */ var angularfire2_database__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(angularfire2_database__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var firebase__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! firebase */ "./node_modules/firebase/dist/index.cjs.js");
/* harmony import */ var firebase__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(firebase__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var ngx_toastr__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ngx-toastr */ "./node_modules/ngx-toastr/fesm5/ngx-toastr.js");
/* harmony import */ var ngx_spinner__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ngx-spinner */ "./node_modules/ngx-spinner/fesm5/ngx-spinner.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var ServiceService = /** @class */ (function () {
    function ServiceService(fireBase, toastr, spinner) {
        this.fireBase = fireBase;
        this.toastr = toastr;
        this.spinner = spinner;
    }
    ServiceService.prototype.getData = function () {
        var data = this.fireBase.list('template');
        // console.log(this.data);\
        return data;
    };
    ServiceService.prototype.getTemplate = function () {
        var data = this.fireBase.list('template/0');
        return data;
    };
    ServiceService.prototype.addTemplate = function (obj, url) {
        var newKey = new Date().getTime();
        this.fireBase.object("/template/" + newKey).set({
            name: obj.name,
            elements: obj.elements,
            file: url
        });
    };
    ServiceService.prototype.updateData = function (file, obj) {
        var _this = this;
        console.log(typeof file);
        if (typeof file == 'string') {
            this.fireBase.object('/template/' + obj.$key).update({
                name: obj.name,
                elements: obj.elements,
                file: file
            });
            this.toastr.success("Update Successfully");
        }
        if (typeof file == 'object') {
            var storageRef = firebase__WEBPACK_IMPORTED_MODULE_2__["storage"]().ref();
            var uploadTask = storageRef.child("upload/" + ("" + file.name)).put(file);
            console.log(storageRef);
            uploadTask.on(firebase__WEBPACK_IMPORTED_MODULE_2__["storage"].TaskEvent.STATE_CHANGED, function (data) {
                //upload in progress
                _this.spinner.show();
            }, function (err) {
            }, function () {
                var download = firebase__WEBPACK_IMPORTED_MODULE_2__["storage"]().ref('upload/' + ("" + file.name));
                download.getDownloadURL().then(function (url) {
                    // this.addTemplate(obj, url)
                    _this.fireBase.object('/template/' + obj.$key).update({
                        name: obj.name,
                        elements: obj.elements,
                        file: url
                    });
                    _this.toastr.success("Update Successfully");
                    _this.spinner.hide();
                });
            });
        }
    };
    ServiceService.prototype.deleteTemplate = function ($key) {
        this.fireBase.list("template").remove($key);
    };
    ServiceService.prototype.uploadFile = function (file, obj) {
        var _this = this;
        console.log(file);
        var storageRef = firebase__WEBPACK_IMPORTED_MODULE_2__["storage"]().ref();
        var uploadTask = storageRef.child("upload/" + ("" + file.name)).put(file);
        uploadTask.on(firebase__WEBPACK_IMPORTED_MODULE_2__["storage"].TaskEvent.STATE_CHANGED, function (data) {
            //upload in progress
            console.log((data['bytesTransferred'] / data['totalBytes']) * 100);
            _this.spinner.show();
        }, function (err) {
            console.log(err);
        }, function () {
            var download = firebase__WEBPACK_IMPORTED_MODULE_2__["storage"]().ref('upload/' + ("" + file.name));
            download.getDownloadURL().then(function (url) {
                console.log(url);
                _this.addTemplate(obj, url);
                _this.toastr.success("Add Template Sucessfully");
                _this.spinner.hide();
            });
            // this.file.url = uploadTask.snapshot.downloadURL;
            // file.name = file.name
            // this.saveFileData(file)
            // this.addTemplate(obj)
        });
    };
    ServiceService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [angularfire2_database__WEBPACK_IMPORTED_MODULE_1__["AngularFireDatabase"],
            ngx_toastr__WEBPACK_IMPORTED_MODULE_3__["ToastrService"], ngx_spinner__WEBPACK_IMPORTED_MODULE_4__["NgxSpinnerService"]])
    ], ServiceService);
    return ServiceService;
}());



/***/ }),

/***/ "./src/environments/environment.ts":
/*!*****************************************!*\
  !*** ./src/environments/environment.ts ***!
  \*****************************************/
/*! exports provided: environment */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "environment", function() { return environment; });
// This file can be replaced during build by using the `fileReplacements` array.
// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.
// The list of file replacements can be found in `angular.json`.
var environment = {
    production: false,
    firebaseConfig: {
        apiKey: "AIzaSyA48CcyJ2vWU8q5ZRfeuWRoVXlxX8QR1Ko",
        authDomain: "ionic-tesseract-2dd97.firebaseapp.com",
        databaseURL: "https://ionic-tesseract-2dd97.firebaseio.com",
        projectId: "ionic-tesseract-2dd97",
        storageBucket: "ionic-tesseract-2dd97.appspot.com",
        messagingSenderId: "500471966297"
    }
};
/*
 * For easier debugging in development mode, you can import the following file
 * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.
 *
 * This import should be commented out in production mode because it will have a negative impact
 * on performance if an error is thrown.
 */
// import 'zone.js/dist/zone-error';  // Included with Angular CLI.


/***/ }),

/***/ "./src/main.ts":
/*!*********************!*\
  !*** ./src/main.ts ***!
  \*********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/platform-browser-dynamic */ "./node_modules/@angular/platform-browser-dynamic/fesm5/platform-browser-dynamic.js");
/* harmony import */ var _app_app_module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./app/app.module */ "./src/app/app.module.ts");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./environments/environment */ "./src/environments/environment.ts");




if (_environments_environment__WEBPACK_IMPORTED_MODULE_3__["environment"].production) {
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["enableProdMode"])();
}
Object(_angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__["platformBrowserDynamic"])().bootstrapModule(_app_app_module__WEBPACK_IMPORTED_MODULE_2__["AppModule"])
    .catch(function (err) { return console.error(err); });


/***/ }),

/***/ 0:
/*!***************************!*\
  !*** multi ./src/main.ts ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! D:\code\app-thesis\thesis\src\main.ts */"./src/main.ts");


/***/ }),

/***/ 1:
/*!***********************!*\
  !*** jsdom (ignored) ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 2:
/*!********************************************************!*\
  !*** jsdom/lib/jsdom/living/generated/utils (ignored) ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 3:
/*!***************************************!*\
  !*** jsdom/lib/jsdom/utils (ignored) ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 4:
/*!************************!*\
  !*** xmldom (ignored) ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ })

},[[0,"runtime","vendor"]]]);
//# sourceMappingURL=main.js.map